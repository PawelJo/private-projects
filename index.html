<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<link rel="stylesheet" href="style.css">
</head>



<body>

	<div class="wrapper">
		<header class="header">
			<p class="welcome-message">Hi Bobby! Willkommen zur端ck zu RantWhere.</p>
		</header>
		<div class="survey-box">
			<div class="survey-content">
				<p class="survey-text">Wie wahrscheinlich (1-10) ist es, dass Sie uns weiterempfehlen werden?</p>

				<div class="ratings">
					<p class="survey-text">Gering</p>

					<form class="radio-form">
						<input type="radio" id="1" name="rating" value="1" onclick="numberChosen()">
						<label for="1">1</label>
						<input type="radio" id="2" name="rating" value="2" onclick="numberChosen()">
						<label for="2">2</label>
						<input type="radio" id="3" name="rating" value="3" onclick="numberChosen()">
						<label for="3">3</label>
						<input type="radio" id="4" name="rating" value="4" onclick="numberChosen()">
						<label for="4">4</label>
						<input type="radio" id="5" name="rating" value="5" onclick="numberChosen()">
						<label for="5">5</label>
						<input type="radio" id="6" name="rating" value="6" onclick="numberChosen()">
						<label for="6">6</label>
						<input type="radio" id="7" name="rating" value="7" onclick="numberChosen()">
						<label for="7">7</label>
						<input type="radio" id="8" name="rating" value="8" onclick="numberChosen()">
						<label for="8">8</label>
						<input type="radio" id="9" name="rating" value="9" onclick="numberChosen()">
						<label for="9">9</label>
						<input type="radio" id="10" name="rating" value="10" onclick="numberChosen()">
						<label for="10">10</label>
					</form>
					<p class="survey-text">hoch</p>
				</div>
			</div>
		</div>

		<button onclick="numberChosen()"> REPLACE HTML now </button>
		<!-- <button onclick="goToCountDown()"> Go to counter </button> -->

	</div>



	<script>




		/* 		function captureRating() {
					const capturedRating = document.querySelector('input[name="rating"]:checked').value;
					return capturedRating
		
				} */








		/* Little helper function for testing */
		/* 		function goToCountDown() {
					e.preventDefault();
					window.location.replace(" http://127.0.0.1:5500/countdown.html");
				} */

		function numberChosen() {

			const capturedRating =

				document.querySelector('input[name="rating"]:checked').value;

			console.log(capturedRating)

			const oldText = document.querySelector(".survey-content");
			/* console.log(oldText) */
			const newText = document.createElement("div")

			newText.innerHTML =
				'<p class="survey-text">Danke f端r Ihre Bewertung. Teilen Sie uns gerne mit, was noch verbessert werden muss.</p>'

			const counter = document.createElement('div');
			counter.innerHTML = '<div id="countdown"></div>'

			const ratingSelectedText = document.createElement('p')
			ratingSelectedText.innerHTML =

				/* 				'`<p class="survey-text">`Du hast uns mit ${capturedRating} bewertet.+ <a href="http://127.0.0.1:5500/">Zur端ck und neubewerten.</a></p>`' */


				'<p class="survey-text">Du hast uns mit ' + capturedRating + ' bewertet. <a href="http://127.0.0.1:5500/">Zur端ck und neubewerten.</a></p>'

			oldText.replaceWith(newText, ratingSelectedText, counter)

			console.log(`Du hast uns mit ${capturedRating} bewertet.`)

			let timeleft = 3;
			const downloadTimer = setInterval(function () {
				if (timeleft <= 0) {
					clearInterval(downloadTimer);
					window.location.replace("http://127.0.0.1:5500/evaluation.html");
					console.log("Rating of" + capturedRating + "will be submitted now")
				} else {
					document.getElementById("countdown").innerHTML = timeleft + " seconds remaining";
				}
				timeleft -= 1;
			}, 1000);

		}
	</script>

</body>

</html>